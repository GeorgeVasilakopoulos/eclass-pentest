## Open eClass 2.3

Το repository αυτό περιέχει μια __παλιά και μη ασφαλή__ έκδοση του eclass.
Προορίζεται για χρήση στα πλαίσια του μαθήματος
[Προστασία & Ασφάλεια Υπολογιστικών Συστημάτων (ΥΣ13)](https://ys13.chatzi.org/), __μην τη
χρησιμοποιήσετε για κάνενα άλλο σκοπό__.


### Χρήση μέσω docker
```
# create and start (the first run takes time to build the image)
docker-compose up -d

# stop/restart
docker-compose stop
docker-compose start

# stop and remove
docker-compose down -v
```

To site είναι διαθέσιμο στο http://localhost:8001/. Την πρώτη φορά θα πρέπει να τρέξετε τον οδηγό εγκατάστασης.


### Ρυθμίσεις eclass

Στο οδηγό εγκατάστασης του eclass, χρησιμοποιήστε __οπωσδήποτε__ τις παρακάτω ρυθμίσεις:

- Ρυθμίσεις της MySQL
  - Εξυπηρέτης Βάσης Δεδομένων: `db`
  - Όνομα Χρήστη για τη Βάση Δεδομένων: `root`
  - Συνθηματικό για τη Βάση Δεδομένων: `1234`
- Ρυθμίσεις συστήματος
  - URL του Open eClass : `http://localhost:8001/` (προσοχή στο τελικό `/`)
  - Όνομα Χρήστη του Διαχειριστή : `drunkadmin`

Αν κάνετε κάποιο λάθος στις ρυθμίσεις, ή για οποιοδήποτε λόγο θέλετε να ρυθμίσετε
το openeclass από την αρχή, διαγράψτε το directory, `openeclass/config` και ο
οδηγός εγκατάστασης θα τρέξει ξανά.

## 2023 Project 1

Εκφώνηση: https://ys13.chatzi.org/assets/projects/project1.pdf


### Μέλη ομάδας

- 1115202000018, Γεώργιος-Αλέξανδρος Βασιλακόπουλος
- ΑΜ, όνομα

### Report

Συμπληρώστε εδώ __ένα report__ που
- Να εξηγεί τι είδους αλλαγές κάνατε στον κώδικα για να προστατέψετε το site σας (από την κάθε επίθεση).
- Να εξηγεί τι είδους επιθέσεις δοκιμάσατε στο αντίπαλο site και αν αυτές πέτυχαν.


### Defences


#### CSRF 

Numerous CSRF vulnerabilities were detected, accross many different modules of the platform. More specifically, requests that were made through forms in the admin side were completely exposed to such attacks and, in some extreme cases, simple GET requests could be used to change the state of the server.

In order to patch these vulnerabilities, we implemeneted CSRF token authentication. All state changing forms should now contain a hidden 'token' field that was provided by the server through a non state-changing GET request, while state-changing GET requests should include the token in the URL.

Below is a list of the patched files/directories. In total 58 files were changed:

- ```modules/admin/change_user.php``` 
- ```modules/admin/listreq.php```: Prevented the status change of registration requests through CSRF.
- ```modules/admin/listusers.php```, ```modules/admin/search_user.php```: Prevents user searches through CSRF.

- ```modules/admin/multireguser.php```: Prevented the registration of multiple users through CSRF

- ```modules/admin/newuseradmin.php```: Prevented the registration of a new admin.

- ```modules/admin/password.php```: Prevented password change of users (or even admin).

- ```modules/admin/unreguser.php```: Prevented the deletion of an account.

- ```modules/admin/edituser.php```: Prevented altering user information.

- ```modules/admin/mailtoprof.php```: Prevented email sending.

- ```modules/admin/addfaculte.php```: Prevented the creation/deletion of a department/faculty

- ```modules/admin/adminannouncements.php```: Prevented creation/edit/removal of an admin announcement

- ```modules/admin/eclassconf.php```: Prevented submission of malicious configuration settings.

- ```modules/admin/listcours.php```: Prevented the submission of a search.

- ```modules/admin/delcours.php```: Prevented the deletion of a course.

- ```modules/admin/editcours.php```, ```modules/admin/infocours.php``` 

- ```modules/admin/infocours.php```: Prevented altering course information.

- ```modules/admin/addusertocours.php```: Prevented granting admin access to course.

- ```modules/admin/quotacours.php```: Prevented altering course quota.

- ```modules/announcements/announcements.php```: Prevented the submission of an announcement in a course.

- In ```modules/exercise/```,files: ```admin.php```, ```answer_admin_inc.php```, ```exercise.php```, ```exercise_admin.php```, ```question_admin.php```, ```question_list_admin.inc.php```, ```question_list_admin.inc.php```, ```question_pool.php```, ```statement_admin.inc.php```: Secured the exercise module of a course.


- In ```modules/course_info/```, files : ```course_create.php```,```delete_course.php```, ```refresh_course.php```, ```infocours.php```, ```restore_course.php```, ```course_tools.php```: Prevented course changing actions/ creation of course.

- In ```modules/agenda/agenda.php``` : ```agenda.php```: Prevented the creation of an event.

- In ```modules/document/``` : ```document.php```, ```upload.php```: Secured the document module from CSRF attacks.

- In ```modules/forum_admin/``` : ```forum_admin.php```: Prevented the creation of a category

- In ```profile/profile.php```: Prevented change of user credentials.

- In ```modules/group/``` : ```document.php```, ```group.php```, ```group_creation.php```, ```group_edit.php```, ```group_space.php```: Secured the group module.

- In ```modules/video/```: Secured the video module.

- In ```modules/work/```: Secured the work module.

- In ```modules/wiki/```: Secured the wiki module.

- In ```modules/phpbb/```: Secured the phpbb module.



















#### XSS


#### RFI/LFI


#### SQL Injections